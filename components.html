<!DOCTYPE html>
<html style="height: 100%;" lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ui Mockups</title>
    <link href="https://kendo.cdn.telerik.com/themes/8.2.1/default/default-main.css" rel="stylesheet" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <link rel="stylesheet" href="MainVariables.css">
    <link rel="stylesheet" href="FinysUtilityClasses.css">
    <link rel="stylesheet" href="MainStyles.css">
    <script src="kendo.all.min.js"></script>
    <script src="kendo-ui-jquery-license.js"></script>
    <!-- ComponentStyles -->
    <link rel="stylesheet" href="dropdown.css">
    <link
    rel="stylesheet"
    type="text/css"
    href="https://cdn.jsdelivr.net/npm/@phosphor-icons/web@2.1.1/src/regular/style.css"
  />
  <link
    rel="stylesheet"
    type="text/css"
    href="https://cdn.jsdelivr.net/npm/@phosphor-icons/web@2.1.1/src/fill/style.css"
  />
  <style>
    /* transient styles */
      .my-dropdown {
        max-width: 200px;
      }

      .container {
        display: flex;
        max-width: 80%;
        margin: 1rem auto;
        gap: 2rem;
      }
  </style>
</head>
    <body class="" >
      <div class="container">
        <input
          class="f-dropdown my-dropdown"
          data-role="dropdownlist" 
          data-text-field="name"
          data-value-field="id"
          data-bind="
            value: basicDropdownValue, 
            source: listData, 
            isSelected: basicDropdownValue" 
          data-option-label="Select an option"
        >

        <input
          class="f-dropdown my-dropdown"
          data-role="dropdownlist" 
          data-text-field="name"
          data-value-field="id"
          data-bind="
            value: groupDropdownValue, 
            source: groupListData, 
            isSelected: groupDropdownValue" 
          data-option-label="Select an option"
          data-value-template="test"
          data-group-template="test"
        >

        <div class="f-group-dropdown">
            <input
            class="f-group-dropdown-input"
            placeholder="Select an option"
            data-bind=""
            >
            <div class="f-group-dropdown-content">
              <ul>
                <li>item 1</li>
                <li>item 2</li>
                <li>item 3</li>
                <li>item 4</li>
              </ul>
            </div>
        </div>

        
      </div>
    </body>


    <script>
      kendo.data.binders.widget.isSelected = kendo.data.Binder.extend({
        refresh: function() {
            const value = this.bindings["isSelected"].get();
            if(!value?.id) {
              $(this.element.element).closest('.f-dropdown.k-picker').removeClass('f-selected')
            } else {
              $(this.element.element).closest('.f-dropdown.k-picker').addClass('f-selected')
            }
        }
      });

      $('.f-group-dropdown-input').on('focus', function(e) {
        $(e.currentTarget).next().addClass('f-focus');
      })
      $('.f-group-dropdown-input').on('blur', function(e) {
        $(e.currentTarget).next().removeClass('f-focus');
      })
      const vm = kendo.observable({
        listData: new kendo.data.DataSource({
          data: [
            {
              id: 1,
              name: 'test1',
            },
            {
              id: 2,
              name: 'test2',
            },
            {
              id: 3,
              name: 'test3',
            },
          ]
        }),
        groupListData: new kendo.data.DataSource({
          data: [
            {
              id: 1,
              name: 'Apple',
              group: 'Eins'
            },
            {
              id: 2,
              name: 'Banana',
              group: 'Eins',
            },
            {
              id: 3,
              name: 'Beef',
              group: 'Zwei',
            },
            {
              id: 4,
              name: 'Pork',
              group: 'Zwei',
            },
            {
              id: 5,
              name: 'Poultry',
              group: 'Zwei',
            },

            {
              id: 6,
              name: 'Water',
              group: 'Drei',
            },
          ],
          group: {field: 'group'}
        }),
        basicDropdownValue: null,
        groupDropdownValue: null,
      })

      $(document).ready(()=>{
        kendo.bind($('body'), vm)
      })
    </script>

    <script id="test" type="x-kendo-template">
      <div>Another test</div>

    </script>
</html>